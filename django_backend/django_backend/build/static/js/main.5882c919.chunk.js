(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{45:function(e,a,t){e.exports=t(57)},57:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(30),c=t.n(l),s=t(19),o=t(10),i=t(5),m=t(6),u=t(8),p=t(7),d=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).signout=function(){localStorage.removeItem("authToken")},e}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top py-3",id:"mainNav"},r.a.createElement("div",{className:"container"},r.a.createElement(s.b,{className:"navbar-brand js-scroll-trigger",to:"/"},r.a.createElement("img",{src:"/static/assets/img/logo_pur_beurre.png",alt:!0,className:"mr-2",width:"50px"}),"Pur Beurre"),r.a.createElement("button",{className:"navbar-toggler navbar-toggler-right",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),localStorage.authToken?r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},r.a.createElement("ul",{className:"navbar-nav ml-auto my-2 my-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"#about"},r.a.createElement("i",{className:"fas fa-user"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link js-scroll-trigger",href:"#services"},r.a.createElement("i",{className:"fas fa-carrot"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link js-scroll-trigger",onClick:this.signout},r.a.createElement("i",{className:"fas fa-sign-out-alt"}))))):r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarResponsive"},r.a.createElement("ul",{className:"navbar-nav ml-auto my-2 my-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link js-scroll-trigger",to:"/login"},"Connection")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link js-scroll-trigger",to:"/signup"},"Inscription"))))))}}]),t}(r.a.Component),g=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={search:""},n}return Object(m.a)(t,[{key:"render",value:function(){var e=this;return(r.a.createElement("header",{className:"masthead"},r.a.createElement("div",{className:"container h-100"},r.a.createElement("div",{className:"row h-100 align-items-center justify-content-center text-center"},r.a.createElement("div",{className:"col-lg-10 align-self-end"},r.a.createElement("h1",{className:"text-uppercase text-white font-weight-bold"},"Du gras, oui, mais de qualit\xe9 !"),r.a.createElement("hr",{className:"divider my-4"})),r.a.createElement("div",{className:"col-lg-8 align-self-baseline"},r.a.createElement("p",{className:"text-white-75 font-weight-light mb-5"},"Trouvez un produit de substitution pour ceux que vous consommez tous les jours."),r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Produit","aria-label":"produit","aria-describedby":"button-addon2",onChange:function(a){return e.setState({search:a.target.value})}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement(s.b,{to:"search/".concat(this.state.search),className:"btn btn-outline-secondary",role:"button",type:"button",id:"button-addon2"},"Chercher"))))))))}}]),t}(r.a.Component),v=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"page-section",id:"about"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-8 text-center"},r.a.createElement("h2",{className:"text-white mt-0"},"Colette et Remy"),r.a.createElement("hr",{className:"divider light my-4",style:{borderColor:"#DE9440"}}),r.a.createElement("p",{className:"text-white-50 mb-4"},"Nous sommes une jeune startup fond\xe9e par Remy et Colette Tatou, deux restaurateurs de renom. Notre restaurant, situ\xe9 \xe0 Montmartre (Paris), compte une cinquantaine de couverts et ne d\xe9semplit pas. Notre sp\xe9cialit\xe9, la ratatouille, nous attire une client\xe8le internationale charm\xe9e par les d\xe9lices de ce plat typique."),r.a.createElement("p",{className:"text-white-50 mb-4"},"Remy et Colette sont amoureux de la gastronomie fran\xe7aise (on ne peut les bl\xe2mer !). Travaillant quotidiennement avec les meilleurs produits du terroir, ils affectionnent particuli\xe8rement la bonne chaire et aiment partager leur passion. Il est donc normal que Remy ait saut\xe9 au plafond quand Colette, un jour de d\xe9prime, sortit du placard un kilo de Nutella et l\u2019attaqua \xe0 la petite cuill\xe8re. Pourquoi ne pas opter pour une p\xe2te \xe0 tartiner aux noisettes, plus consistante et moins sucr\xe9e ? Pourquoi, oh pourquoi s\u2019infliger une telle souffrance ? R\xe9my \xe9tait sid\xe9r\xe9. La r\xe9ponse de Colette fut simple : elle n\u2019avait pas trouv\xe9 de substitut assez convainquant. A vrai dire, elle n\u2019avait m\xeame pas cherch\xe9."),r.a.createElement("p",{className:"text-white-50 mb-4"},"Tous deux se souvinrent alors que nombre de leurs clients leur avaient compt\xe9, entre deux verres, qu\u2019il \xe9tait difficile de trouver des substituts aux cochonneries que nous mangions d\xe8s le petit d\xe9jeuner. Pourquoi ne pas lancer une plateforme web en ce sens ?"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("img",{src:"static/assets/img/colette.jpg",width:"400px",alt:"colette"}),r.a.createElement("p",{className:"text-white-50 mb-4"},"Colette")),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("img",{src:"static/assets/img/remy.jpg",width:"400px",alt:"remy"}),r.a.createElement("p",{className:"text-white-50 mb-4"},"Remy")))))))}}]),t}(r.a.Component),h=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"page-section",id:"contact"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-lg-8 text-center"},r.a.createElement("h2",{className:"mt-0"},"Contactez-nous !"),r.a.createElement("hr",{className:"divider my-4"}),r.a.createElement("p",{className:"text-muted mb-5"},"Une question ? N'h\xe9sitez pas \xe0 nous contacter !"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4 ml-auto text-center mb-5 mb-lg-0"},r.a.createElement("i",{className:"fas fa-phone fa-3x mb-3 text-muted"}),r.a.createElement("div",null,"+33 6 00 00 00 00")),r.a.createElement("div",{className:"col-lg-4 mr-auto text-center"},r.a.createElement("i",{className:"fas fa-envelope fa-3x mb-3 text-muted"}),r.a.createElement("a",{className:"d-block",href:"mailto:mail@mail.com"},"mail@mail.com")))))}}]),t}(r.a.Component);var E=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(g,null),r.a.createElement(v,null),r.a.createElement(h,null))},b=t(24),f=t(33),N=t.n(f),y=t(40),j=t(59),O=t(22),w=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"alert alert-".concat(this.props.type),role:"alert"},this.props.message)}}]),t}(r.a.Component);function x(){var e=Object(b.a)(["\n  mutation($username: String!, $password: String!) {\n    tokenAuth(username: $username, password: $password) {\n      token\n    }\n  }\n"]);return x=function(){return e},e}var k=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={username:"",password:""},n.handleSubmit=function(){var e=Object(y.a)(N.a.mark((function e(a,t,r){var l;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,t();case 3:l=e.sent,localStorage.setItem("authToken",l.data.tokenAuth.token),n.props.history.replace("/");case 6:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),n}return Object(m.a)(t,[{key:"render",value:function(){var e=this;return(r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("div",{className:"login"},r.a.createElement(j.a,{mutation:C,variables:{username:this.state.username,password:this.state.password},onCompleted:function(e){}},(function(a,t){var n=t.loading,l=t.error;t.called,t.client;return(r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t,a)}},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-sign-in-alt"}),r.a.createElement("h1",null,"Connection")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"username",placeholder:"Nom d'utilisateur",className:"form-control",onChange:function(a){return e.setState({username:a.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"password",placeholder:"Mot de passe",className:"form-control",onChange:function(a){return e.setState({password:a.target.value})}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-block",disabled:n||!e.state.username.trim()||!e.state.password.trim()},n?"Chargement...":"Connection")),l&&r.a.createElement(w,{type:"danger",message:l.message})))})))))}}]),t}(r.a.Component),C=Object(O.b)(x()),q=k,S=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{id:"masthead-2",style:{backgroundImage:"url(".concat(this.props.image,")")}},r.a.createElement("div",{className:"container h-100"},r.a.createElement("div",{className:"row h-100 align-items-center justify-content-center text-center"},r.a.createElement("div",{className:"col-lg-10 align-self-end mt-10",style:{top:"-50%"}},r.a.createElement("h1",{className:"text-uppercase text-white font-weight-bold"},this.props.heading)))))}}]),t}(r.a.Component),I=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var n;switch(Object(i.a)(this,t),(n=a.call(this,e)).handleClick=function(){localStorage.setItem("searchImage",n.props.image),localStorage.setItem("searchName",n.props.name)},n.props.nutriscore){case"a":n.state={pillColor:"#0a8b31"};break;case"b":n.state={pillColor:"#9ac430"};break;case"c":n.state={pillColor:"#fbb901"};break;case"d":n.state={pillColor:"#ea5b0d"};break;default:n.state={pillColor:"#ce171b"}}return n}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col mb-4"},r.a.createElement("div",{className:"card"},r.a.createElement("span",{className:"badge badge-pill",style:{background:"".concat(this.state.pillColor)}},r.a.createElement("p",null,this.props.nutriscore)),r.a.createElement(s.b,{onClick:this.handleClick,to:"/results/".concat(this.props.category)},r.a.createElement("img",{src:this.props.image,className:"card-img-top",alt:this.props.name})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},this.props.name),localStorage.authToken&&r.a.createElement("a",{href:!0},r.a.createElement("i",{className:"far fa-save"})," Sauvegarder"))))}}]),t}(r.a.Component),T=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"page-section",id:"results"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center justify-content-center text-center"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h3",null,this.props.headline))),r.a.createElement("div",{className:"row row-cols-1 row-cols-md-3",style:{marginTop:"40px"}},0===this.props.foods.length&&r.a.createElement(w,{type:"danger",message:"Aucun r\xe9sultat ..."}),this.props.foods.map((function(e){return r.a.createElement(I,{name:e.name,nutriscore:e.nutriscore,image:e.image,category:e.category})})))))}}]),t}(r.a.Component),R=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}}]),t}(r.a.Component);function $(){var e=Object(b.a)(["\n  query($title: String!) {\n    foods(searchTitle: $title){\n      id\n      name\n      nutriscore\n      url\n      image\n      category\n    }\n  }\n"]);return $=function(){return e},e}var z=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this;return(r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(j.b,{query:P,variables:{title:this.props.match.params.title}},(function(a){var t=a.loading,n=a.error,l=a.data;return t?r.a.createElement("section",{className:"page-section",id:"results"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center justify-content-center text-center"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(R,null))))):n?r.a.createElement(w,{type:"danger",message:n.message}):r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{heading:e.props.match.params.title,image:l.foods[1]?l.foods[0].image:"https://images.pexels.com/photos/461198/pexels-photo-461198.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260"}),r.a.createElement(T,{headline:"De quel produit parlez-vous ?",foods:l.foods}))}))))}}]),t}(r.a.Component),P=Object(O.b)($()),A=z;function F(){var e=Object(b.a)(["\n  query($category: String!) {\n    foods(searchCategory: $category){\n      id\n      name\n      nutriscore\n      image\n      category\n    }\n  }\n"]);return F=function(){return e},e}var D=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(S,{heading:localStorage.searchName,image:localStorage.searchImage}),r.a.createElement(j.b,{query:M,variables:{category:this.props.match.params.category}},(function(e){var a=e.loading,t=e.error,n=e.data;return a?r.a.createElement("section",{className:"page-section",id:"results"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center justify-content-center text-center"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(R,null))))):t?r.a.createElement(w,{type:"danger",message:t.message}):r.a.createElement(T,{headline:"Vous pouvez remplacer cet aliment par:",foods:n.foods})})))}}]),t}(r.a.Component),M=Object(O.b)(F()),B=D,L=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login"},r.a.createElement("form",{action:!0},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"fas fa-carrot"}),r.a.createElement("h1",null,"Inscription")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"username",placeholder:"Nom d'utilisateur",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"password",placeholder:"Mot de passe",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-block"},"Inscription"))))}}]),t}(r.a.Component),J=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"bg-light py-5"},r.a.createElement("div",{className:"footer-container"},r.a.createElement("div",null,r.a.createElement("a",{href:!0},"Mentions L\xe9gales")),r.a.createElement("div",null,r.a.createElement("a",{href:!0},"Contact"))))}}]),t}(r.a.Component);var W=function(){return r.a.createElement(s.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:E}),r.a.createElement(o.a,{exact:!0,path:"/login",component:q}),r.a.createElement(o.a,{path:"/signup",component:L}),r.a.createElement(o.a,{path:"/search/:title",component:A}),r.a.createElement(o.a,{path:"/results/:category",component:B})),r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=t(11),U=new O.a({uri:"http://localhost:8000/graphql/",clientState:{defaults:{isLoggedIn:!!localStorage.getItem("authToken")}}});c.a.render(r.a.createElement(_.a,{client:U},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.5882c919.chunk.js.map